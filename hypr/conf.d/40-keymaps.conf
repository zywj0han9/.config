
###################
# 修饰键（务必放最上面）
###################
$mainMod = ALT
$suprMod = SUPER

#############################
# 会话控制 / 基础窗口操作（ALT）
#############################
bind = $mainMod SHIFT, Q, exit            # 退出 Hyprland（带确认）
bind = $mainMod, q, killactive            # 关闭当前窗口
bind = $mainMod, F, fullscreen            # 全屏切换
bind = $mainMod, SPACE, togglefloating    # 浮动/平铺切换
bind = $mainMod, slash, exec, sh -c 'albert toggle'   # 呼出/隐藏 Albert

#############################
# 应用启动（ALT）
#############################
bind = $mainMod, RETURN, exec, kitty
bind = $mainMod SHIFT, RETURN, exec, konsole
bind = $mainMod, C, exec, google-chrome-stable
bind = $mainMod, X, exec, firefox
bind = $mainMod, D, exec, discord
bind = $mainMod, M, exec, thunderbird
bind = $mainMod, A, exec, thunar
bind = $mainMod, O, exec, code
bind = $mainMod, W, exec, follow
bind = $mainMod, S, exec, steam
bind = $mainMod, T, exec, telegram-desktop
bind = $mainMod, V, exec, vlc
bind = $mainMod, J, exec, tradingview            # 注意：J 在 SUPER 下用于布局（见下）
bind = $mainMod, B, exec, WinBox
bind = $mainMod, R, exec, fluent-reader
bind = $mainMod, Y, exec, '/home/j0han9/Application/siyuan-3.1.20-linux.AppImage'
bind = $mainMod, P, exec, okular                 # 注意：P 在 SUPER 下用于 pseudo（见下）
bind = $mainMod, G, exec, wechat-universal

########################################
# 焦点移动（ALT；保留你原先的 n/i/u/e 方向）
########################################
bind = $mainMod, n, movefocus, l   # 焦点 → 左
bind = $mainMod, i, movefocus, r   # 焦点 → 右
bind = $mainMod, u, movefocus, u   # 焦点 → 上
bind = $mainMod, e, movefocus, d   # 焦点 → 下

#####################################################
# 布局相关（SUPER；把布局切换从 ALT 改到 SUPER）
#####################################################
bind = $suprMod, P, pseudo         # SUPER+P：dwindle 伪平铺开关（不再占用 ALT+P）
bind = $suprMod, J, togglesplit    # SUPER+J：dwindle 分割方向切换（不再占用 ALT+J）

#####################################################
# 窗口移动（SUPER+Ctrl + n/i/u/e）
# 步进默认 5 像素；想更快可改 25 或 50
#####################################################
bind = $suprMod CONTROL, u, moveactive, 0 -10   # 上移
bind = $suprMod CONTROL, e, moveactive, 0  10   # 下移
bind = $suprMod CONTROL, i, moveactive, 10 0   # 右移
bind = $suprMod CONTROL, n, moveactive, -10 0   # 左移

# === Directional swap：把“当前窗口”与相邻窗口对调位置 ===
bind = $mainMod SHIFT, i, swapwindow, r  # ALT+SHIFT+i  → 当前窗口 ↔ 右边窗口
bind = $mainMod SHIFT, n, swapwindow, l  # ALT+SHIFT+n  → 当前窗口 ↔ 左边窗口
bind = $mainMod SHIFT, u, swapwindow, u  # ALT+SHIFT+u  → 当前窗口 ↔ 上边窗口
bind = $mainMod SHIFT, e, swapwindow, d  # ALT+SHIFT+e  → 当前窗口 ↔ 下边窗口

#####################################################
# 窗口改大小（SUPER + n/i/u/e）
# 负值表示向反方向扩展；步进同上
#####################################################
bind = $suprMod, n, resizeactive, -5  0  # 变宽（→）
bind = $suprMod, i, resizeactive,  5  0  # 变窄（←）
bind = $suprMod, u, resizeactive,  0  5  # 变高（↑）
bind = $suprMod, e, resizeactive,  0 -5  # 变矮（↓）

########################################
# 工作区切换与迁移（ALT）
########################################
# 切换到工作区 1..10
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# 将活动窗口移动到工作区 1..10
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# 滚轮切换工作区（按住 ALT 滚动）
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

########################################
# 鼠标拖动（改到 SUPER 符合“移动/改大小都用 SUPER”）
########################################
bindm = $suprMod, mouse:272, movewindow   # SUPER + 左键拖动 → 移动窗口
bindm = $suprMod, mouse:273, resizewindow # SUPER + 右键拖动 → 改变大小

########################################
# 媒体/亮度键（硬件键；用 binde 支持长按重复）
########################################
binde = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
binde = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind  = ,XF86AudioMute,        exec, wpctl set-mute   @DEFAULT_AUDIO_SINK@  toggle
bind  = ,XF86AudioMicMute,     exec, wpctl set-mute   @DEFAULT_AUDIO_SOURCE@ toggle

binde = ,XF86MonBrightnessUp,   exec, brightnessctl s 10%+
binde = ,XF86MonBrightnessDown, exec, brightnessctl s 10%-

# 播放控制（不需要长按重复）
bind = ,XF86AudioNext,  exec, playerctl next
bind = ,XF86AudioPause, exec, playerctl play-pause
bind = ,XF86AudioPlay,  exec, playerctl play-pause
bind = ,XF86AudioPrev,  exec, playerctl previous

########################################
# 截图（SUPER）
########################################
$shotdir = /home/$USER/Pictures/ScreenShot
bind = $suprMod SHIFT, S, exec, hyprshot -m region -o $shotdir -f "screenshot-$(date +%Y-%m-%d_%H-%M-%S)_region.png"
