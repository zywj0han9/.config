#######################################################################
# input.conf
# è®¾å¤‡é…ç½®ï¼šKeychron Q10 Alice + Keychron Q0 å°é”®ç›˜ + ç½—æŠ€ GPW + é›·è›‡æ¯’å¥
# ç”Ÿæ•ˆï¼šhyprctl reload
#######################################################################

#####################
# ğŸ¹ å…¨å±€è¾“å…¥è®¾ç½®
#####################
input {
    # === é”®ç›˜å¸ƒå±€ï¼ˆColemakï¼‰===
    kb_layout  = us
    kb_variant =                # Colemak å¸ƒå±€
    kb_model   =
    kb_options =            # Caps Lock â†’ Ctrl
    # å…¶ä»–é€‰é¡¹ï¼š
    # kb_options = caps:escape         # Caps â†’ Escï¼ˆVim ç”¨æˆ·ï¼‰
    # kb_options = ctrl:nocaps,compose:ralt  # ç»„åˆé”®
    kb_rules   =
    
    # === æŒ‰é”®é‡å¤é€Ÿç‡ï¼ˆç¼–ç¨‹/æ‰“å­—ä¼˜åŒ–ï¼‰===
    repeat_rate  = 50                  # 50 å­—ç¬¦/ç§’
    repeat_delay = 280                 # 280ms å¼€å§‹é‡å¤
    numlock_by_default = true          # Q0 å°é”®ç›˜é»˜è®¤å¼€å¯
    
    # === é¼ æ ‡ç„¦ç‚¹ï¼ˆå¤šè®¾å¤‡ä¼˜åŒ–ï¼‰===
    follow_mouse = 1                   # é¼ æ ‡ç§»åŠ¨å³èšç„¦
    float_switch_override_focus = 2    # æµ®åŠ¨çª—å£ä¼˜å…ˆ
    mouse_refocus = true               # é¼ æ ‡ç§»åŠ¨é‡æ–°èšç„¦
    
    # === é¼ æ ‡åŠ é€Ÿï¼ˆæ¸¸æˆé¼ æ ‡ç¦ç”¨ï¼‰===
    sensitivity = 0.0                  # å…¨å±€ä¸ä¿®æ”¹
    accel_profile = flat               # æ— åŠ é€Ÿï¼ˆæ¸¸æˆæ ‡å‡†ï¼‰
    force_no_accel = false
    
    # === å…¶ä»–è®¾ç½® ===
    left_handed = false
    scroll_method = on_button_down     # æŒ‰é’®æ»šåŠ¨ï¼ˆé€‚åˆæ¸¸æˆé¼ æ ‡ï¼‰
    scroll_button = 0
    scroll_button_lock = false
    
    # === è§¦æ§æ¿ï¼ˆå°å¼æœºæ— éœ€ï¼Œä¿ç•™é…ç½®ï¼‰===
    touchpad {
        natural_scroll = true
        disable_while_typing = true
        tap-to-click = true
        tap-and-drag = true
        drag_lock = false
        clickfinger_behavior = false
        middle_button_emulation = false
        scroll_factor = 1.0
    }
}

#####################
# âŒ¨ï¸ Keychron Q10 Aliceï¼ˆä¸»é”®ç›˜ï¼‰
#####################
device {
    name = keychron-keychron-q10-keyboard
    enabled = true
    
    # === Colemak å¸ƒå±€ ===
    kb_layout = us
    kb_variant = 
    kb_options =            # Caps â†’ Ctrlï¼ˆAlice å¸ƒå±€æ¨èï¼‰
    
    # === é‡å¤é€Ÿç‡ ===
    repeat_rate = 50
    repeat_delay = 280
    numlock_by_default = true
}

# Q10 çš„å…¶ä»–è™šæ‹Ÿè®¾å¤‡ï¼ˆä¿æŒé»˜è®¤ï¼Œæ— éœ€ç‰¹æ®Šé…ç½®ï¼‰
device {
    name = keychron-keychron-q10
    enabled = true
}

device {
    name = keychron-keychron-q10-system-control
    enabled = true
}

device {
    name = keychron-keychron-q10-consumer-control
    enabled = true
}

#####################
# ğŸ”¢ Keychron Q0ï¼ˆå°é”®ç›˜ï¼‰
#####################
device {
    name = keychron-keychron-q0-keyboard
    enabled = true
    
    # å°é”®ç›˜æ— éœ€ Colemakï¼Œä¿æŒæ ‡å‡†å¸ƒå±€
    kb_layout = us
    kb_variant =
    numlock_by_default = true          # é»˜è®¤å¼€å¯æ•°å­—æ¨¡å¼
}

# Q0 çš„å…¶ä»–è™šæ‹Ÿè®¾å¤‡
device {
    name = keychron-keychron-q0
    enabled = true
}

device {
    name = keychron-keychron-q0-system-control
    enabled = true
}

device {
    name = keychron-keychron-q0-consumer-control
    enabled = true
}

#####################
# ğŸ–±ï¸ ç½—æŠ€ G Pro Wirelessï¼ˆGPWï¼‰
#####################
device {
    name = logitech-usb-receiver
    enabled = true
    
    # === æ¸¸æˆé¼ æ ‡ä¸“ç”¨è®¾ç½® ===
    sensitivity = 0.0                  # ä¸ä¿®æ”¹ï¼ˆåœ¨ logiops ä¸­è®¾ç½® DPIï¼‰
    accel_profile = flat               # æ— åŠ é€Ÿï¼ˆæ¸¸æˆå¿…é¡»ï¼‰
    scroll_method = on_button_down     # æŒ‰é’®æ»šåŠ¨
    natural_scroll = false             # ä¼ ç»Ÿæ»šåŠ¨æ–¹å‘
    left_handed = false
    middle_button_emulation = false
}

# GPW çš„è™šæ‹Ÿé”®ç›˜è®¾å¤‡ï¼ˆé¼ æ ‡æŒ‰é”®/æ»šè½®æ˜ å°„ï¼‰
device {
    name = logitech-usb-receiver-keyboard
    enabled = true
}

device {
    name = logitech-usb-receiver-keyboard-1
    enabled = true
}

#####################
# ğŸ é›·è›‡æ¯’å¥ Viper Ultimate
#####################
device {
    name = razer-razer-viper-ultimate-dongle
    enabled = true
    
    # === æ¸¸æˆé¼ æ ‡ä¸“ç”¨è®¾ç½® ===
    sensitivity = 0.0                  # ä¸ä¿®æ”¹ï¼ˆåœ¨ OpenRazer ä¸­è®¾ç½® DPIï¼‰
    accel_profile = flat               # æ— åŠ é€Ÿï¼ˆæ¸¸æˆå¿…é¡»ï¼‰
    scroll_method = on_button_down     # æŒ‰é’®æ»šåŠ¨
    natural_scroll = false             # ä¼ ç»Ÿæ»šåŠ¨æ–¹å‘
    left_handed = false
    middle_button_emulation = false
}

# æ¯’å¥çš„è™šæ‹Ÿé”®ç›˜è®¾å¤‡
device {
    name = razer-razer-viper-ultimate-dongle-keyboard
    enabled = true
}

device {
    name = razer-razer-viper-ultimate-dongle-keyboard-1
    enabled = true
}

device {
    name = razer-razer-viper-ultimate-dongle-1
    enabled = true
}

#####################
# ğŸª« é›·è›‡é¼ æ ‡åº•åº§ï¼ˆMouse Dockï¼‰
#####################
device {
    name = razer-razer-mouse-dock
    enabled = true
    
    # åº•åº§é€šå¸¸æ— éœ€ç‰¹æ®Šé…ç½®ï¼Œä¿æŒé»˜è®¤
    sensitivity = 0.0
    accel_profile = flat
}

device {
    name = razer-razer-mouse-dock-keyboard
    enabled = true
}

device {
    name = razer-razer-mouse-dock-keyboard-1
    enabled = true
}

device {
    name = razer-razer-mouse-dock-1
    enabled = true
}

#####################
# ğŸ§ HyperX Cloud Core Wirelessï¼ˆè€³æœºæ§åˆ¶å™¨ï¼‰
#####################
device {
    name = kingston-hyperx-cloud-core-wireless-consumer-control
    enabled = true
    # è€³æœºçš„åª’ä½“æŒ‰é”®ï¼Œä¿æŒé»˜è®¤
}

device {
    name = kingston-hyperx-virtual-surround-sound-consumer-control
    enabled = true
}

device {
    name = kingston-hyperx-virtual-surround-sound
    enabled = true
}

#####################
# ğŸ’¬ Fcitx5 è™šæ‹Ÿé”®ç›˜
#####################
device {
    name = hl-virtual-keyboard-fcitx5
    enabled = true
    # è¾“å…¥æ³•è™šæ‹Ÿé”®ç›˜ï¼Œä¿æŒé»˜è®¤
}

#####################
# ğŸ”˜ ç³»ç»ŸæŒ‰é”®ï¼ˆç”µæº/ç¡çœ ï¼‰
#####################
device {
    name = power-button
    enabled = true
}

device {
    name = power-button-1
    enabled = true
}

device {
    name = sleep-button
    enabled = true
}

#######################################################################
# ğŸ“‹ è®¾å¤‡è¯´æ˜
#######################################################################
# 
# ğŸ¹ é”®ç›˜ï¼š
#   - Keychron Q10 Aliceï¼ˆä¸»é”®ç›˜ï¼‰ â†’ Colemak å¸ƒå±€
#   - Keychron Q0ï¼ˆç‹¬ç«‹å°é”®ç›˜ï¼‰   â†’ æ ‡å‡†å¸ƒå±€
#
# ğŸ–±ï¸ é¼ æ ‡ï¼š
#   - ç½—æŠ€ G Pro Wirelessï¼ˆlogitech-usb-receiverï¼‰
#   - é›·è›‡æ¯’å¥ Viper Ultimateï¼ˆrazer-razer-viper-ultimate-dongleï¼‰
#   - é›·è›‡é¼ æ ‡å……ç”µåº•åº§ï¼ˆrazer-razer-mouse-dockï¼‰
#
# ğŸ§ éŸ³é¢‘ï¼š
#   - HyperX Cloud Core Wirelessï¼ˆåª’ä½“æŒ‰é”®æ§åˆ¶ï¼‰
#
# ğŸ’¬ è¾“å…¥æ³•ï¼š
#   - Fcitx5 è™šæ‹Ÿé”®ç›˜ï¼ˆç”¨äºè¾“å…¥æ³•å€™é€‰æ¡†ç­‰ï¼‰
#
#######################################################################

#######################################################################
# ğŸ® é¼ æ ‡ DPI è®¾ç½®ï¼ˆåœ¨å„è‡ªè½¯ä»¶ä¸­é…ç½®ï¼‰
#######################################################################
#
# === ç½—æŠ€ GPW ===
# æ–¹æ³•1ï¼šlogiopsï¼ˆæ¨èï¼Œå¼€æºï¼‰
#   å®‰è£…ï¼šyay -S logiops-git
#   é…ç½®ï¼š/etc/logid.cfg
#   ç¤ºä¾‹ï¼š
#     devices: ({
#       name: "Logitech USB Receiver";
#       dpi: 1600;
#     });
#   å¯åŠ¨ï¼šsudo systemctl enable --now logid
#
# æ–¹æ³•2ï¼šPiperï¼ˆGUIï¼‰
#   å®‰è£…ï¼šsudo pacman -S piper
#   è¿è¡Œï¼špiper
#
# === é›·è›‡æ¯’å¥ ===
# æ–¹æ³•1ï¼šOpenRazer + Polychromaticï¼ˆæ¨èï¼‰
#   å®‰è£…ï¼šsudo pacman -S openrazer-meta python-pyqt5
#         yay -S polychromatic
#   æ·»åŠ ç”¨æˆ·ç»„ï¼šsudo gpasswd -a $USER plugdev
#   å¯åŠ¨ï¼šsudo systemctl enable --now openrazer-daemon
#   GUIï¼špolychromatic-controller
#
# æ–¹æ³•2ï¼šrazercfgï¼ˆå‘½ä»¤è¡Œï¼‰
#   å®‰è£…ï¼šyay -S razercfg
#   è®¾ç½®DPIï¼šrazer-cli -d "Razer Viper Ultimate" -s 1600
#   è®¾ç½®ç¯æ•ˆï¼šrazer-cli -e static -c 00FF00
#
#######################################################################

#######################################################################
# ğŸ”§ Colemak å¸ƒå±€è¯´æ˜
#######################################################################
#
# QWERTY â†’ Colemak é”®ä½æ˜ å°„ï¼š
#   Q W E R T Y U I O P     Q W F P G J L U Y ;
#   A S D F G H J K L ;  â†’  A R S T D H N E I O
#   Z X C V B N M           Z X C V B K M
#
# ä½ çš„æ–¹å‘é”®ï¼ˆkeymaps.conf ä¸­çš„ n/i/u/eï¼‰ï¼š
#   n = å·¦ï¼ˆQWERTY-J ä½ç½®ï¼ŒColemak-Nï¼‰
#   i = å³ï¼ˆQWERTY-L ä½ç½®ï¼ŒColemak-Iï¼‰
#   u = ä¸Šï¼ˆQWERTY-I ä½ç½®ï¼ŒColemak-Uï¼‰
#   e = ä¸‹ï¼ˆQWERTY-K ä½ç½®ï¼ŒColemak-Eï¼‰
#
# è¿™ä¸ªæ˜ å°„å®Œç¾é€‚é… Colemak çš„å­—æ¯é€»è¾‘ï¼
#
#######################################################################

#######################################################################
# ğŸ” è°ƒè¯•å‘½ä»¤
#######################################################################
#
# æŸ¥çœ‹è®¾å¤‡åˆ—è¡¨ï¼š
#   hyprctl devices
#
# æŸ¥çœ‹å½“å‰é…ç½®ï¼š
#   hyprctl getoption input -j | jq
#   hyprctl getoption device:keychron-keychron-q10-keyboard -j | jq
#
# å®æ—¶ç›‘æ§è¾“å…¥äº‹ä»¶ï¼š
#   wev
#
# æµ‹è¯• Colemak å¸ƒå±€ï¼š
#   æ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨ï¼ŒæŒ‰ QWERTY çš„ E é”®ï¼Œåº”è¯¥è¾“å‡º F
#
# æµ‹è¯•é”®ç›˜é‡å¤ï¼š
#   æŒ‰ä½ä»»æ„å­—æ¯é”®ï¼Œè§‚å¯Ÿé‡å¤é€Ÿåº¦
#
# æµ‹è¯•é¼ æ ‡åŠ é€Ÿï¼š
#   å¿«é€Ÿç§»åŠ¨é¼ æ ‡ï¼Œè§‚å¯Ÿå…‰æ ‡ç§»åŠ¨æ˜¯å¦å‡åŒ€ï¼ˆåº”è¯¥å‡åŒ€=æ— åŠ é€Ÿï¼‰
#
# é‡è½½é…ç½®ï¼š
#   hyprctl reload
#
#######################################################################

#######################################################################
# ğŸ’¡ ä¼˜åŒ–å»ºè®®
#######################################################################
#
# 1. Caps Lock æ”¹é”®ï¼ˆAlice å¸ƒå±€æ¨èï¼‰ï¼š
#    å½“å‰ï¼šctrl:nocapsï¼ˆCaps â†’ Ctrlï¼‰
#    æ›¿ä»£ï¼šcaps:escapeï¼ˆCaps â†’ Escï¼ŒVim ç”¨æˆ·ï¼‰
#    æ›¿ä»£ï¼šcaps:backspaceï¼ˆCaps â†’ Backspaceï¼Œå‡å°‘å°æŒ‡è´Ÿæ‹…ï¼‰
#
# 2. æŒ‰é”®é‡å¤é€Ÿç‡è°ƒæ•´ï¼š
#    å½“å‰ï¼šrepeat_rate=50, repeat_delay=280
#    æ›´å¿«ï¼šrepeat_rate=60, repeat_delay=250ï¼ˆä»£ç è¡¥å…¨æ›´å¿«ï¼‰
#    æ›´æ…¢ï¼šrepeat_rate=40, repeat_delay=350ï¼ˆé¿å…è¯¯è§¦ï¼‰
#
# 3. å°é”®ç›˜ç‹¬ç«‹å¿«æ·é”®ï¼ˆkeymaps.confï¼‰ï¼š
#    bind = $mainMod, KP_0, exec, è®¡ç®—å™¨
#    bind = $mainMod, KP_Enter, exec, ç‰¹å®šå‘½ä»¤
#
# 4. é¼ æ ‡å¿«é€Ÿåˆ‡æ¢ï¼ˆkeymaps.confï¼‰ï¼š
#    bind = $suprMod, M, exec, hyprctl switchxkblayout next
#    æˆ–åˆ›å»ºè„šæœ¬åœ¨ GPW å’Œæ¯’å¥ä¹‹é—´åˆ‡æ¢ DPI é…ç½®
#
# 5. æ¸¸æˆæ¨¡å¼ï¼ˆç¦ç”¨è¾“å…¥æ³•ã€é™ä½é‡å¤å»¶è¿Ÿï¼‰ï¼š
#    åˆ›å»º gaming-mode.confï¼Œåœ¨éœ€è¦æ—¶ source
#
#######################################################################
