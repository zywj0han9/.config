#######################################################################
# Hyprland 外观与动画配置文件（40-look.conf）
# 功能：控制窗口间距、边框颜色、圆角、阴影、模糊、动画、布局等视觉表现
# 建议：该文件只处理视觉效果，不包含快捷键、输入、应用规则
#######################################################################

############################
### 🧱 GENERAL 外观基础 ###
############################

general {
    # === 窗口间距 ===
    gaps_in  = 2           # 窗口与窗口之间的距离（内间距）
    gaps_out = 4           # 窗口与屏幕边缘的距离（外间距）
    # 如果桌面显得“太松散”，可以将 gaps_out 改成 2~3，gaps_in 改成 1~2

    # === 边框 ===
    border_size = 3        # 边框宽度（建议 2~4，分辨率越高可适当加粗）

    # 渐变绿色边框：从左下到右上（45 度方向）
    # 第一个颜色是青绿色 (rgba(00ff66ff))，第二个颜色是黄绿色 (rgba(aaff00ff))
    col.active_border   = rgba(00ff66ff) rgba(aaff00ff) 45deg
    col.inactive_border = rgba(404040aa) # 非聚焦窗口使用半透明灰色边框

    resize_on_border = false # 允许通过拖拽边框调整窗口大小（true 启用）
    allow_tearing     = false # 是否允许撕裂显示（建议 false）
    layout = dwindle          # 默认布局（dwindle：树状平铺布局）
}

######################################
### 🎨 DECORATION 圆角、阴影与模糊 ###
######################################

decoration {
    # === 圆角设置 ===
    rounding       = 10  # 窗口圆角半径（0 为直角，10 约等于 GNOME 风格）
    rounding_power = 2   # 圆角平滑度（1~3，越大越柔和）

    # === 透明度 ===
    active_opacity   = 1.0 # 聚焦窗口不透明度（1.0 = 完全不透明）
    inactive_opacity = 1.0 # 非聚焦窗口透明度（例如 0.95）

    # === 阴影 ===
    shadow {
        enabled      = true              # 是否启用阴影
        range        = 3                 # 阴影范围（1~10，越大越扩散）
        render_power = 3                 # 阴影强度（建议 2~4）
        color        = rgba(1a1a1add)    # 阴影颜色与透明度（此处为深灰半透明）
    }

    # === 模糊（背景模糊效果）===
    blur {
        enabled   = true   # 开启模糊效果
        size      = 3      # 模糊强度（数值越大越模糊）
        passes    = 1      # 模糊迭代次数（1 为性能友好）
        vibrancy  = 0.17   # 模糊下层颜色渗透度（0~1，越高越“通透”）
    }
}

##########################################
### 🌀 ANIMATIONS 窗口与工作区动画效果 ###
##########################################

animations {
    enabled = yes          # 是否启用动画（no 可完全关闭以提高性能）

    # === 动画曲线（贝塞尔函数）===
    # 名称, 控制点1x, 控制点1y, 控制点2x, 控制点2y
    bezier = easeOutQuint,0.23,1,0.32,1
    bezier = easeInOutCubic,0.65,0.05,0.36,1
    bezier = linear,0,0,1,1
    bezier = almostLinear,0.5,0.5,0.75,1.0
    bezier = quick,0.15,0,0.1,1

    # === 动画定义 ===
    # 格式：animation = 类型, 是否启用, 时长倍率, 曲线, [可选效果]
    animation = global,1,10,default
    animation = border,1,5.39,easeOutQuint
    animation = windows,1,4.79,easeOutQuint
    animation = windowsIn,1,4.1,easeOutQuint,popin 87%
    animation = windowsOut,1,1.49,linear,popin 87%
    animation = fadeIn,1,1.73,almostLinear
    animation = fadeOut,1,1.46,almostLinear
    animation = fade,1,3.03,quick
    animation = layers,1,3.81,easeOutQuint
    animation = layersIn,1,4,easeOutQuint,fade
    animation = layersOut,1,1.5,linear,fade
    animation = fadeLayersIn,1,1.79,almostLinear
    animation = fadeLayersOut,1,1.39,almostLinear
    animation = workspaces,1,1.94,almostLinear,fade
    animation = workspacesIn,1,1.21,almostLinear,fade
    animation = workspacesOut,1,1.94,almostLinear,fade
}

########################################
### 🧩 LAYOUTS AND MISC 布局与杂项 ###
########################################

# === dwindle 布局（树状平铺）===
dwindle {
    pseudotile     = true  # “伪平铺”：窗口维持原大小但仍受布局管理
    preserve_split = true  # 调整布局方向时保留原有分割方式
}

# === master 布局（主从模式）===
master {
    new_status = master    # 主窗口始终保持焦点（可改为 slave）
}

# === 杂项选项 ===
misc {
    force_default_wallpaper = -1 # 禁用默认动漫壁纸（0/1 启用）
    disable_hyprland_logo   = true # 关闭启动时的 Hyprland logo / 动漫背景
}

# === XWayland 设置 ===
xwayland {
    force_zero_scaling = true # 防止 XWayland 程序缩放模糊
}

#######################################################################
# 备注：
# - 如果性能吃紧，可在低功耗模式中禁用 blur / shadow / animation。
# - 颜色可用 rgba(rrggbbaa)，也可用渐变 “rgba(A) rgba(B) 角度” 格式。
# - 编辑完毕后执行：hyprctl reload 即时应用更改。
#######################################################################

