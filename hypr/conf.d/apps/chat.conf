#######################################################################
# apps/chat.conf
# 作用：统一管理“聊天类应用”的窗口行为（不绑定显示器、不固定工作区）
# 策略：
#  - 主聊天窗口默认平铺（tile）
#  - 图片/媒体预览、通话类、系统选择器等 → 自动浮动、保持比例、居中
#  - 所有规则仅按 class/title 匹配，方便移植
#######################################################################
########################
# 类名集合
########################
$TELEGRAM = class:^(org\.telegram\.desktop)$
$WECHAT   = class:^(wechat-universal|WeChat|com\.tencent\.wechat)$
$DISCORD  = class:^(discord|Discord)$
$SLACK    = class:^(Slack)$
$SIGNAL   = class:^(Signal)$
$ELEMENT  = class:^(Element)$
$QQ       = class:^(QQ|qq)$

########################################
# 主窗口默认平铺
########################################
windowrulev2 = tile, $TELEGRAM
windowrulev2 = tile, $WECHAT
windowrulev2 = tile, $DISCORD
windowrulev2 = tile, $SLACK

#########################################################
# 媒体预览 - 更精确的匹配
#########################################################
# Telegram 媒体查看器
windowrulev2 = float, $TELEGRAM, title:^(Media viewer)$
windowrulev2 = keepaspectratio, $TELEGRAM, title:^(Media viewer)$
windowrulev2 = center, $TELEGRAM, title:^(Media viewer)$

# WeChat 图片预览
windowrulev2 = float, $WECHAT, title:^(图片查看|Image)$
windowrulev2 = keepaspectratio, $WECHAT, title:^(图片查看|Image)$

# Discord 图片灯箱
windowrulev2 = float, $DISCORD, title:^(.*\.(jpg|png|gif|webp))$
windowrulev2 = keepaspectratio, $DISCORD, title:^(.*\.(jpg|png|gif|webp))$

#########################################################
# 语音/视频通话
#########################################################
windowrulev2 = float, $DISCORD, title:^(Discord Voice)$
windowrulev2 = size 400 600, $DISCORD, title:^(Discord Voice)$
windowrulev2 = pin, $DISCORD, title:^(Discord Voice)$

windowrulev2 = float, $TELEGRAM, title:^(Voice Chat|视频通话)$
windowrulev2 = keepaspectratio, $TELEGRAM, title:^(Voice Chat|视频通话)$
