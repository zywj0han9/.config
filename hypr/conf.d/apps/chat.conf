#######################################################################
# apps/chat.conf
# 作用：统一管理“聊天类应用”的窗口行为（不绑定显示器、不固定工作区）
# 策略：
#  - 主聊天窗口默认平铺（tile）
#  - 图片/媒体预览、通话类、系统选择器等 → 自动浮动、保持比例、居中
#  - 所有规则仅按 class/title 匹配，方便移植
#######################################################################

########################
# 0) 常见聊天类的类名集合
########################
# 提示：实际类名可用 `hyprctl clients` 查询；如有差异，在这里增删即可
$TELEGRAM = class:^(org\.telegram\.desktop)$
$WECHAT   = class:^(wechat-universal|WeChat|com\.tencent\.wechat)$
$DISCORD  = class:^(discord)$
$SLACK    = class:^(Slack)$
$SIGNAL   = class:^(Signal)$
$ELEMENT  = class:^(Element)$
$QQ       = class:^(QQ|qq)$

# 汇总（供统一规则使用）
$CHATS = class:^(org\.telegram\.desktop|wechat-universal|WeChat|com\.tencent\.wechat|discord|Slack|Signal|Element|QQ|qq)$

########################################
# 1) 主聊天窗口：默认平铺（防止误浮动）
########################################
windowrulev2 = tile, $CHATS

#########################################################
# 2) 图片/媒体预览窗口：浮动 + 保持比例 + 居中（不改尺寸）
#########################################################
# 说明：不同应用标题各异，用尽量宽松的关键字匹配（中英文都覆盖）
windowrulev2 = float,           $CHATS, title:^(?i).*(media|image|photo|gif|viewer|preview|预览|图片|媒体|查看器).*
windowrulev2 = keepaspectratio, $CHATS, title:^(?i).*(media|image|photo|gif|viewer|preview|预览|图片|媒体|查看器).*
windowrulev2 = center,          $CHATS, title:^(?i).*(media|image|photo|gif|viewer|preview|预览|图片|媒体|查看器).*
# 可选：若你希望固定一个“合适大小”，把下一行解注；否则保持自动大小
# windowrulev2 = size 960 600,  $CHATS, title:^(?i).*(media|image|photo|gif|viewer|preview|预览|图片|媒体|查看器).*

#############################################
# 3) 语音/视频通话窗口：浮动 + 居中 + 降低动画
#############################################
# 说明：标题常含 call/voice/video/通话/呼叫/视频/语音 等
windowrulev2 = float,  $CHATS, title:^(?i).*(call|voice|video|通话|呼叫|视频|语音).*
windowrulev2 = center, $CHATS, title:^(?i).*(call|voice|video|通话|呼叫|视频|语音).*
windowrulev2 = noanim, $CHATS, title:^(?i).*(call|voice|video|通话|呼叫|视频|语音).*
windowrulev2 = keepaspectratio, $CHATS, title:^(?i).*(call|voice|video|通话|呼叫|视频|语音).*
# 可选：把通话窗固定成“跨工作区可见”的小窗（抽屉式体验）
# windowrulev2 = pin,    $CHATS, title:^(?i).*(call|voice|video|通话|呼叫|视频|语音)*

