#######################################################################
# apps/dev.conf
# 作用：统一管理“开发相关”应用的窗口行为（不绑定显示器、不固定工作区）
# 策略：
#  - 主窗口默认平铺（tile）
#  - 设置/对话框/预览/DevTools → 浮动 + 居中 + 保持比例（必要时禁动画）
#  - 尽量用类名/标题的通用正则匹配，避免硬编码到特定机器
#######################################################################

############################
# 0) 类名集合（按需补充）
############################
# 终端
$TERMINALS  = class:^(kitty|Alacritty|alacritty|foot|WezTerm|wezterm|konsole|gnome-terminal)$

# VS Code 系列（含 VSCodium、OSS、Cursor）
$CODE       = class:^(Code|code-oss|VSCodium|codium|Cursor)$

# JetBrains 家族（含 Toolbox）
$JETBRAINS  = class:^(jetbrains-.*|idea|pycharm|clion|webstorm|goland|rider|rubymine|datagrip|phpstorm|jetbrains-toolbox)$

# API / DB / 网络与对比工具
$API_TOOLS  = class:^(Postman|Insomnia)$
$DB_TOOLS   = class:^(DBeaver)$
$DIFF_TOOLS = class:^(Meld|meld|kdiff3|bcompare|Beyond Compare)$
$NET_TOOLS  = class:^(Wireshark)$
$DOC_TOOLS  = class:^(Zeal)$

# 汇总（主窗默认平铺的“开发族群”）
$DEV_MAIN   = class:^(kitty|Alacritty|alacritty|foot|WezTerm|wezterm|konsole|gnome-terminal|Code|code-oss|VSCodium|codium|Cursor|jetbrains-.*|idea|pycharm|clion|webstorm|goland|rider|rubymine|datagrip|phpstorm|Postman|Insomnia|DBeaver|Meld|meld|kdiff3|bcompare|Beyond Compare|Wireshark|Zeal)$

########################################
# 1) 主窗口默认平铺（防止误浮动）
########################################
windowrulev2 = tile, $DEV_MAIN

#########################################################
# 2) 通用对话框/设置面板：浮动 + 居中 + 轻动画（更稳）
#########################################################
# 标题关键词尽量覆盖中英文（避免把主窗误判为对话框）
windowrulev2 = float,  $DEV_MAIN, title:^(?i).*(preference|settings|about|options|选项|设置|关于|首选项|属性|对话框).*
windowrulev2 = center, $DEV_MAIN, title:^(?i).*(preference|settings|about|options|选项|设置|关于|首选项|属性|对话框).*
windowrulev2 = noanim, $DEV_MAIN, title:^(?i).*(preference|settings|about|options|选项|设置|关于|首选项|属性|对话框).*

#########################################################
# 3) “打开/保存/选择器”等文件对话框（非 portal 场景）
#########################################################
# 说明：很多应用已经走 xdg-portal（见其它 conf），但仍保留本地对话框
windowrulev2 = float,  $DEV_MAIN, title:^(?i).*(open file|save as|choose|select|打开|保存|另存|选择).*
windowrulev2 = center, $DEV_MAIN, title:^(?i).*(open file|save as|choose|select|打开|保存|另存|选择).*
windowrulev2 = noanim, $DEV_MAIN, title:^(?i).*(open file|save as|choose|select|打开|保存|另存|选择).*

#####################################
# 4) DevTools / Inspector（开发者工具）
#####################################
# VS Code / Electron 类常见标题
windowrulev2 = float,           $CODE,      title:^(?i).*(developer tools|dev.?tools|inspector).*
windowrulev2 = keepaspectratio, $CODE,      title:^(?i).*(developer tools|dev.?tools|inspector).*
windowrulev2 = center,          $CODE,      title:^(?i).*(developer tools|dev.?tools|inspector).*
windowrulev2 = noanim,          $CODE,      title:^(?i).*(developer tools|dev.?tools|inspector).*

# JetBrains 系：新建工程/结构/设置向导等（浮动更顺手）
windowrulev2 = float,  $JETBRAINS, title:^(?i).*(welcome|new project|project structure|settings|preferences|about|导入|新建|结构|设置|首选项|关于).*
windowrulev2 = center, $JETBRAINS, title:^(?i).*(welcome|new project|project structure|settings|preferences|about|导入|新建|结构|设置|首选项|关于).*
windowrulev2 = noanim, $JETBRAINS, title:^(?i).*(welcome|new project|project structure|settings|preferences|about|导入|新建|结构|设置|首选项|关于).*

# JetBrains Toolbox 自身：小窗化
windowrulev2 = float,  class:^(jetbrains-toolbox)$
windowrulev2 = center, class:^(jetbrains-toolbox)$
windowrulev2 = noanim, class:^(jetbrains-toolbox)$

#########################################################
# 5) API/DB/网络/对比工具的小窗处理（连接/导入/比较 等）
#########################################################
# DBeaver 连接/驱动下载/导入导出
windowrulev2 = float,  $DB_TOOLS,  title:^(?i).*(new connection|connect|driver|import|export|连接|驱动|导入|导出).*
windowrulev2 = center, $DB_TOOLS,  title:^(?i).*(new connection|connect|driver|import|export|连接|驱动|导入|导出).*
windowrulev2 = noanim, $DB_TOOLS,  title:^(?i).*(new connection|connect|driver|import|export|连接|驱动|导入|导出).*

# Postman/Insomnia 环境/证书/导入导出
windowrulev2 = float,  $API_TOOLS, title:^(?i).*(environment|certificate|import|export|环境|证书|导入|导出).*
windowrulev2 = center, $API_TOOLS, title:^(?i).*(environment|certificate|import|export|环境|证书|导入|导出).*
windowrulev2 = noanim, $API_TOOLS, title:^(?i).*(environment|certificate|import|export|环境|证书|导入|导出).*

# 对比工具临时窗
windowrulev2 = float,  $DIFF_TOOLS, title:^(?i).*(options|preferences|settings|compare|merge|选择|比较|合并|设置).*
windowrulev2 = center, $DIFF_TOOLS, title:^(?i).*(options|preferences|settings|compare|merge|选择|比较|合并|设置).*
windowrulev2 = noanim, $DIFF_TOOLS, title:^(?i).*(options|preferences|settings|compare|merge|选择|比较|合并|设置).*

# Wireshark 捕获选项等
windowrulev2 = float,  $NET_TOOLS, title:^(?i).*(capture|options|preferences|设置|选项|捕获).*
windowrulev2 = center, $NET_TOOLS, title:^(?i).*(capture|options|preferences|设置|选项|捕获).*
windowrulev2 = noanim, $NET_TOOLS, title:^(?i).*(capture|options|preferences|设置|选项|捕获).*

#########################################################
# 6) 性能友好：给大型 IDE 关模糊/弱阴影（可选，按需放开）
#########################################################
# JetBrains 家族在 4K/多屏/分数缩放下偶尔卡：关模糊与重阴影更稳
# windowrulev2 = noblur,   $JETBRAINS
# windowrulev2 = noshadow, $JETBRAINS

#########################################################
# 7) 可选：通用“临时浮窗”标题关键词（保险丝，慎用）
#########################################################
# 这组更宽松，若命中误差大请保持注释
# windowrulev2 = float,  $DEV_MAIN, title:^(?i).*(dialog|popup|prompt|warning|error|对话框|弹窗|提示|警告|错误).*
# windowrulev2 = center, $DEV_MAIN, title:^(?i).*(dialog|popup|prompt|warning|error|对话框|弹窗|提示|警告|错误).*
# windowrulev2 = noanim, $DEV_MAIN, title:^(?i).*(dialog|popup|prompt|warning|error|对话框|弹窗|提示|警告|错误).*

#######################################################################
# 提示：
# - 打开应用后运行 `hyprctl clients`，查看 `class:` 与 `title:`，
#   若有新类名，按上面变量风格补进即可。
# - 与其它 apps/*.conf 没有顺序依赖；若规则冲突，后载入的文件覆盖先载入。
#######################################################################

